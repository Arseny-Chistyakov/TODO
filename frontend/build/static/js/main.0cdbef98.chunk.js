(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(66)},36:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(27),c=a.n(l),s=(a(36),a(5)),o=a(6),m=a(8),i=a(7),u=a(9),d=a(10),h=a.n(d),p=a(4),E=a(0),f=(a(60),a(62),a(64),function(e){var t=e.user;return r.a.createElement("tr",null,r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.firstName),r.a.createElement("td",null,t.lastName),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.created),r.a.createElement("td",null,t.modified))}),b=function(e){var t=e.users;return r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-hover mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("th",null,"\u0418\u043c\u044f"),r.a.createElement("th",null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"\u0421\u043e\u0437\u0434\u0430\u043d"),r.a.createElement("th",null,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d"))),r.a.createElement("tbody",null,Array.isArray(t)?t.map(function(e){return r.a.createElement(f,{user:e,key:e.uid})}):null)))},v=a(11),g=function(e){var t=e.project,a=e.delete_project,n=e.update_project;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(p.b,{to:"".concat(t.uid),className:"table-link"},t.name)),r.a.createElement("td",null,t.repository),r.a.createElement("td",null,t.creatorsProject.join(", ")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a(t.uid)},type:"button",className:"btn btn-secondary"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-secondary"},r.a.createElement(p.b,{onClick:function(){return n(t.uid)},to:"update/".concat(t.uid),className:"text-decoration-none text-white"},"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"))))},j=function(e){var t=e.projects,a=e.delete_project,l=Object(n.useState)(),c=Object(v.a)(l,2),s=c[0],o=c[1],m=t.filter(function(e){var t=document.getElementById("input");return""===(t?t.value:"")?e:e.name.toLowerCase().includes(s)});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-4 d-flex justify-content-center"},r.a.createElement("input",{type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",id:"input",value:s,onChange:function(e){var t=e.target.value.toLowerCase();o(t)}}),r.a.createElement("button",{className:"btn btn-secondary ml-5"},r.a.createElement(p.b,{to:"/projects/create",className:"text-decoration-none text-white"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"))),r.a.createElement("table",{className:"table table-hover mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("th",null,"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438"),r.a.createElement("th",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,Array.isArray(m)?m.map(function(e){return r.a.createElement(g,{project:e,delete_project:a,key:e.uid})}):null)))},y=function(e){var t=e.projects,a=Object(E.g)(),n=t.filter(function(e){return e.uid===a.id})[0];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center my-2"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",n.name)),r.a.createElement("div",{className:"card-body text-left"},r.a.createElement("p",{className:"card-text "},"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442:",r.a.createElement("a",{className:"table-link",href:n.repository},n.repository)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-2 card-text text-decoration-underline"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:"),n.creatorsProject.map(function(e,t){return r.a.createElement("p",{className:"card-text"},t+1,". ",e," ")}))))))},N=function(e){var t=e.TODO,a=e.delete_TODO;return r.a.createElement("tr",null,r.a.createElement("td",null,t.body),r.a.createElement("td",null,t.creatorKeep),r.a.createElement("td",null,t.project),r.a.createElement("td",null,t.created),r.a.createElement("td",null,t.modified),r.a.createElement("td",null,t.isActive?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"\u0417\u0430\u043a\u0440\u044b\u0442\u0430"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return a(t.uid)},type:"button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},O=function(e){var t=e.TODOs,a=e.delete_TODO;return r.a.createElement("div",{className:"container mb-4"},r.a.createElement("table",{className:"table table-hover mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement("th",null,"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement("th",null,"\u041f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement("th",null,"\u0421\u043e\u0437\u0434\u0430\u043d\u0430"),r.a.createElement("th",null,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0430"),r.a.createElement("th",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("th",null))),r.a.createElement("tbody",null,Array.isArray(t)?t.map(function(e){return r.a.createElement(N,{TODO:e,delete_TODO:a,key:e.uid})}):null)),r.a.createElement("button",{className:"btn btn-secondary"},r.a.createElement(p.b,{to:"/TODOs/create",className:"text-decoration-none text-white"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043a\u0443")))};function _(){return r.a.createElement("footer",{className:"mt-3 py-3 "},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"TODO project DRF")))}function C(e){var t=e.name,a=e.href;return r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{className:"nav-link",to:a},t))}function k(e){var t=e.navbarItems,a=e.auth,n=e.logout,l="";return l=a.is_login?r.a.createElement("button",{className:"btn btn btn-secondary my-2 my-sm-0",onClick:n},"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u043c, ",a.username,"! \u0425\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?"):r.a.createElement(p.b,{to:"/login",className:"btn btn btn-secondary my-2 my-sm-0"},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Arseny Chistyakov"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},t.map(function(e){return r.a.createElement(C,{name:e.name,href:e.href,key:e.href})})),r.a.createElement("form",{className:"form-inline mt-2 mt-md-0"},l)))}var x=function(){var e=Object(E.e)();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"mt-4 text-lg-center"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 '",e.pathname,"' \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"))},S=a(12),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={login:"",password:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){this.props.login(this.state.login,this.state.password),e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"row justify-content-center p-5"},r.a.createElement("div",{className:"col-lg-5"},r.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center font-weight-light my-4"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"small mb-1",htmlFor:"login"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("input",{type:"text",className:"form-control",name:"login",value:this.state.login,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"small mb-1",htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",className:"btn btn-secondary",value:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})))))))}}]),t}(r.a.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={name:"",creatorsProject:[],repository:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleCreatorsProjectChange",value:function(e){if(e.target.selectedOptions){for(var t=[],a=0;a<e.target.selectedOptions.length;a++)t.push(e.target.selectedOptions.item(a).value);this.setState({creatorsProject:t})}else this.setState({creatorsProject:[]})}},{key:"handleSubmit",value:function(e){this.props.create_project(this.state.name,this.state.creatorsProject,this.state.repository),window.location.href="/projects",e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center font-weight-light my-4"},"______\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430______")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438"),r.a.createElement("input",{className:"form-control",type:"text",name:"repository",placeholder:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438",value:this.state.repository,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430(\u043e\u0432) \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("select",{className:"form-control",name:"creatorsProject",multiple:!0,onChange:function(t){return e.handleCreatorsProjectChange(t)}},this.props.creatorsProject.map(function(e){return r.a.createElement("option",{value:e.uid},e.username)}))),r.a.createElement("input",{className:"btn btn-secondary mt-1",type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}))))))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).num=window.location.href,a.projectUid=a.num.replace(/\/$/,"").split("/").splice(-1,1)[0],a.state={uid:a.projectUid,name:"",repository:"",creatorsProject:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t,a=this;this.props!==e&&this.setState(e),e.project.forEach(function(e){if(e.uid===a.projectUid)return t={name:e.name,repository:e.repository,creatorsProject:e.creatorsProject}}),this.setState(t)}},{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleCreatorsProjectChange",value:function(e){if(e.target.selectedOptions){for(var t=[],a=0;a<e.target.selectedOptions.length;a++)t.push(e.target.selectedOptions.item(a).value);this.setState({creatorsProject:t})}else this.setState({creatorsProject:[]})}},{key:"handleSubmit",value:function(e){this.props.update_project(this.state.uid,this.state.name,this.state.creatorsProject,this.state.repository),window.location.href="/projects",e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center font-weight-light my-4"},"______\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430______")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("input",{className:"form-control",type:"text",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.state.name,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438"),r.a.createElement("input",{className:"form-control",type:"text",name:"repository",placeholder:"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438",value:this.state.repository,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430(\u043e\u0432) \u043f\u0440\u043e\u0435\u043a\u0442\u0430"),r.a.createElement("select",{className:"form-control",name:"creatorsProject",multiple:!0,onChange:function(t){return e.handleCreatorsProjectChange(t)}},this.props.creatorsProject.map(function(e){return r.a.createElement("option",{value:e.uid},e.username)}))),r.a.createElement("label",{className:"form-text text-muted"},"*\u043f\u0435\u0440\u0435\u0434 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u0435\u0439"),r.a.createElement("input",{className:"btn btn-secondary mt-1",type:"submit",value:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}))))))}}]),t}(r.a.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={body:"",creatorKeep:"",project:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){this.props.create_TODO(this.state.body,this.state.creatorKeep,this.state.project),window.location.href="/TODOs",e.preventDefault()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",{className:"text-center font-weight-light my-4"},"______\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438______")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement("input",{className:"form-control",type:"text",name:"body",placeholder:"\u0422\u0435\u043a\u0441\u0442",value:this.state.body,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement("select",{className:"form-control",name:"project",onChange:function(t){return e.handleChange(t)}},this.props.project.map(function(e){return r.a.createElement("option",{value:e.uid},e.name)}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-0 mt-1"},"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f \u0437\u0430\u043c\u0435\u0442\u043a\u0438"),r.a.createElement("select",{className:"form-control",name:"creatorKeep",onChange:function(t){return e.handleChange(t)}},this.props.creatorKeep.map(function(e){return r.a.createElement("option",{value:e.uid},e.username)}))),r.a.createElement("label",{className:"form-text text-muted"},"*\u043f\u0435\u0440\u0435\u0434 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"),r.a.createElement("input",{className:"btn btn-secondary mt-1",type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}))))))}}]),t}(r.a.Component),I=function(e){return"".concat("http://127.0.0.1:8000/api/").concat(e)},A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(i.a)(t).call(this,e))).state={navbarItems:[{name:"Users",href:"/"},{name:"TODOs",href:"/TODOs"},{name:"Projects",href:"/projects"}],users:[],projects:[],TODOs:[],auth:{username:"",is_login:!1}},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"create_project",value:function(e,t,a){var n=this,r=this.get_headers(),l={name:e,creatorsProject:t,repository:a};h.a.post(I("projects/"),l,{headers:r}).then(function(e){n.load_data()}).catch(function(e){console.log(e),n.setState({projects:[]})})}},{key:"update_project",value:function(e,t,a,n){var r=this,l=this.get_headers(),c={uid:e,name:t,creatorsProject:a,repository:n};console.log(c),h.a.put(I("projects/".concat(e,"/")),c,{headers:l}).then(function(e){r.load_data()}).catch(function(e){console.log(e),r.setState({projects:[]})})}},{key:"delete_project",value:function(e){var t=this,a=this.get_headers();h.a.delete(I("projects/".concat(e,"/")),{headers:a}).then(function(e){t.load_data()}).catch(function(e){console.log(e),t.setState({projects:[]})})}},{key:"create_TODO",value:function(e,t,a){var n=this,r=this.get_headers(),l={body:e,creatorKeep:t,project:a};h.a.post(I("TODOs/"),l,{headers:r}).then(function(e){n.load_data()}).catch(function(e){console.log(e),n.setState({TODOs:[]})})}},{key:"delete_TODO",value:function(e){var t=this,a=this.get_headers();h.a.delete(I("TODOs/".concat(e,"/")),{headers:a}).then(function(e){t.load_data()}).catch(function(e){console.log(e),t.setState({TODOs:[]})})}},{key:"get_headers",value:function(){var e={"Content-Type":"application/json"};if(this.state.auth.is_login){var t=localStorage.getItem("access");e.Authorization="Bearer "+t}return e}},{key:"login",value:function(e,t){var a=this;h.a.post(I("token/"),{username:e,password:t}).then(function(t){var n=t.data,r=n.access,l=n.refresh;localStorage.setItem("login",e),localStorage.setItem("access",r),localStorage.setItem("refresh",l),a.setState({auth:{username:e,is_login:!0}}),a.load_data()}).catch(function(e){401===e.response.status?alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"):console.log(e)})}},{key:"logout",value:function(){localStorage.setItem("login",""),localStorage.setItem("access",""),localStorage.setItem("refresh",""),this.setState({auth:{username:"",is_login:!1}})}},{key:"load_data",value:function(){var e=this,t=this.get_headers();h.a.get(I("users/"),{headers:t}).then(function(t){e.setState({users:t.data.results})}).catch(function(e){return console.log(e)}),h.a.get(I("projects/"),{headers:t}).then(function(t){e.setState({projects:t.data.results})}).catch(function(e){return console.log(e)}),h.a.get(I("TODOs/"),{headers:t}).then(function(t){e.setState({TODOs:t.data.results})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("login");""!==t&&null!=t&&this.setState({auth:{username:t,is_login:!0}},function(){return e.load_data()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement("header",null,r.a.createElement(k,{navbarItems:this.state.navbarItems,auth:this.state.auth,logout:function(){return e.logout()}})),r.a.createElement("main",{role:"main",className:"flex-shrink-0"},r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/login",element:r.a.createElement(w,{login:function(t,a){return e.login(t,a)}})}),r.a.createElement(E.a,{exact:!0,path:"/",element:r.a.createElement(b,{users:this.state.users})}),r.a.createElement(E.a,{exact:!0,path:"/users",element:r.a.createElement(b,{users:this.state.users})}),r.a.createElement(E.a,{exact:!0,path:"/TODOs",element:r.a.createElement(O,{TODOs:this.state.TODOs,delete_TODO:function(t){return e.delete_TODO(t)}})}),r.a.createElement(E.a,{path:"/TODOs/create",element:r.a.createElement(P,{creatorKeep:this.state.users,project:this.state.projects,create_TODO:function(t,a,n){return e.create_TODO(t,a,n)}})}),r.a.createElement(E.a,{path:"/projects",element:r.a.createElement(j,{projects:this.state.projects,update_project:function(t){return e.update_project(t)},delete_project:function(t){return e.delete_project(t)}})}),r.a.createElement(E.a,{path:"/projects/:id",element:r.a.createElement(y,{projects:this.state.projects})}),r.a.createElement(E.a,{exact:!0,path:"/projects/create",element:r.a.createElement(D,{creatorsProject:this.state.users,create_project:function(t,a,n){return e.create_project(t,a,n)}})}),r.a.createElement(E.a,{exact:!0,path:"/projects/update/:uid",element:r.a.createElement(T,{creatorsProject:this.state.users,project:this.state.projects,update_project:function(t,a,n,r,l){return e.update_project(t,a,n,r,l)}})}),r.a.createElement(E.a,{path:"*",element:r.a.createElement(x,null)}))),r.a.createElement(_,null)))}}]),t}(r.a.Component),F=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,67)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null))),F()}},[[28,3,2]]]);
//# sourceMappingURL=main.0cdbef98.chunk.js.map